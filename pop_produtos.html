<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/pop_produtos.css">
    <title>Mais detalhes do produto</title>
</head>

<body class="pop">
    <main>
        <div>
            <h2 id="nome-produto"></h2>
            <!--<img id="imagem-produto"/>-->
            <div class="slider">
                <button id="prevBtn">&#10094;</button>
                <img id="slider-img">
                <button id="nextBtn">&#10095;</button>
            </div>
            <p id="descricao-produto"></p>
            <!--preenchimento das informações-->
            <script>
                //função para captura de parâmetros
                function getParametros(info) {
                    const urlParametros = new URLSearchParams(window.location.search);
                    return urlParametros.get(info);
                }

                //preenche as informações na pop
                document.getElementById("nome-produto").textContent = getParametros("nomeProd");
                //document.getElementById("imagem-produto").src=getParametros("imagemProd");
                document.getElementById("descricao-produto").textContent = getParametros("descricaoProd");

                /*Controle do Slider*/
                const imagens = getParametros("imagemProd") ? getParametros("imagemProd").split(',') : [];
                let index = 0;
                const sliderImg = document.getElementById("slider-img");

                function MostrarImagem() {
                    if (imagens.length > 0) {
                        sliderImg.src = imagens[index];
                    }
                }

                document.getElementById("prevBtn").onclick = function () {
                    index = (index - 1 + imagens.length) % imagens.length;
                    MostrarImagem();
                }

                document.getElementById("nextBtn").onclick = function () {
                    index = (index + 1) % imagens.length;
                    MostrarImagem();
                }

                //Exibe a primeira imagem
                MostrarImagem();
            </script>
        </div>
    </main>
</body>

</html>